(this["webpackJsonpPlantify-client"]=this["webpackJsonpPlantify-client"]||[]).push([[0],{115:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(29),i=n.n(c),s=(n(115),n(31)),l=n.n(s),o=n(45),u=n(8),j=n(15),d=n(184),b=n(185),m=n(23),x=n(1),p=Object(a.createContext)();function h(e){var t=Object(a.useState)(null),n=Object(u.a)(t,2),r=n[0],c=n[1];return Object(x.jsx)(p.Provider,{value:{user:r,setUser:c},children:e.children})}var O=function(e){var t=Object(a.useContext)(p).user;return Object(x.jsx)(d.a,{bg:"light",expand:"lg",children:Object(x.jsx)(d.a.Collapse,{id:"basic-navbar-nav",children:Object(x.jsx)(b.a,{className:"mr-auto",children:t?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{onClick:e.handleLogout,children:"Logout"}),Object(x.jsx)(m.b,{style:{marginLeft:"10px"},to:"/profile",children:"Profile"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m.b,{style:{marginLeft:"10px"},to:"/signin",children:"SignIn"}),Object(x.jsx)(m.b,{style:{marginLeft:"10px"},to:"/signup",children:"SignUp"})]})})})})},f=n(186),v=n(180),g=n(183),w=n(188),y=n(191),S=n(192),C=n(190),k=n(99),W=n(189),F=Object(k.a)();var P=function(e){var t=e.handleSignin;return Object(x.jsx)(W.a,{theme:F,children:Object(x.jsxs)(C.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(v.a,{}),Object(x.jsxs)(y.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)(S.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(x.jsxs)(y.a,{component:"form",onSubmit:t,noValidate:!0,sx:{mt:1},children:[Object(x.jsx)(g.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(x.jsx)(g.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:e.error?e.error:"",error:!!e.error}),Object(x.jsx)(f.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(x.jsx)(w.a,{container:!0,children:Object(x.jsx)(w.a,{item:!0,children:Object(x.jsx)(m.b,{to:"/signup",children:"Don't have an account? Sign Up"})})})]})]})]})})},D=n(43),I=n.n(D),U="https://wdft-final.herokuapp.com/api",q=Object(k.a)();var L=function(e){var t=Object(j.g)(),n=function(){var e=Object(o.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={username:n.target.username.value,email:n.target.email.value,password:n.target.password.value},e.next=4,I.a.post("".concat(U,"/signup"),a,{withCredentials:!0});case 4:t("/signin");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(W.a,{theme:q,children:Object(x.jsxs)(C.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(v.a,{}),Object(x.jsxs)(y.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)(S.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(x.jsxs)(y.a,{component:"form",onSubmit:n,noValidate:!0,sx:{mt:1},children:[Object(x.jsx)(g.a,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoFocus:!0}),Object(x.jsx)(g.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"}),Object(x.jsx)(g.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(x.jsx)(f.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(x.jsx)(w.a,{container:!0,children:Object(x.jsx)(w.a,{item:!0,children:Object(x.jsx)(m.b,{to:"/signin",children:"Already have an account? Sign In instead"})})})]})]})]})})};function E(e){var t=e.userPlants;return Object(x.jsx)("div",{children:Object(x.jsx)("div",{children:t.map((function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(m.b,{to:"plantFamily/".concat(e._id),children:e.nickname})})}))})})}function A(){return Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"Blogs"})})}function N(e){var t=e.plantFamily,n=Object(a.useContext)(p).user,r=Object(a.useState)(!1),c=Object(u.a)(r,2),i=c[0],s=c[1];Object(a.useEffect)((function(){}),[n,t]);var l=t.filter((function(e){return e.author===n._id}));return n?Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"tabs",children:[Object(x.jsx)("button",{onClick:function(){s(!0)},children:"Plants"}),Object(x.jsx)("button",{onClick:function(){s(!1)},children:"Blogs"}),i?Object(x.jsx)(E,{userPlants:l}):Object(x.jsx)(A,{})]})}):Object(x.jsx)(j.a,{to:"/signin"})}var T=Object(k.a)();var B=function(e){var t=e.handleSubmit;return Object(x.jsx)(W.a,{theme:T,children:Object(x.jsxs)(C.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(v.a,{}),Object(x.jsxs)(y.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)(S.a,{component:"h1",variant:"h5",children:"Add a plant"}),Object(x.jsxs)(y.a,{component:"form",onSubmit:t,noValidate:!0,sx:{mt:1},children:[Object(x.jsx)(g.a,{margin:"normal",required:!0,fullWidth:!0,id:"outlined-basic",label:"Nickname",name:"nickname",autoFocus:!0}),Object(x.jsx)(g.a,{margin:"normal",fullWidth:!0,name:"scientific_name",label:"Scientific Name",id:"outlined-basic"}),Object(x.jsx)(g.a,{margin:"normal",fullWidth:!0,name:"price",label:"Price",id:"outlined-basic",type:"number"}),Object(x.jsx)(g.a,{margin:"normal",fullWidth:!0,name:"details",label:"Care Routine/Details",id:"outlined-basic",multiline:!0,rows:4,c:!0}),Object(x.jsx)(f.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Done"}),Object(x.jsx)(w.a,{container:!0,children:Object(x.jsx)(w.a,{item:!0})})]})]})]})})};function V(){var e=Object(a.useContext)(p),t=e.user,n=e.setUser,r=Object(a.useState)(null),c=Object(u.a)(r,2),i=c[0],s=c[1],d=Object(a.useState)([]),b=Object(u.a)(d,2),m=b[0],h=b[1],f=Object(j.g)();Object(a.useEffect)((function(){var e=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("".concat(U,"/user"),{withCredentials:!0});case 3:return t=e.sent,n(t.data),e.next=7,I.a.get("".concat(U,"/plantFamily"),{withCredentials:!0});case 7:a=e.sent,h(a.data),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var v=function(){var e=Object(o.a)(l.a.mark((function e(a){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,r={email:a.target.email.value,password:a.target.password.value},e.next=5,I.a.post("".concat(U,"/signin"),r,{withCredentials:!0});case 5:c=e.sent,n(c.data),console.log(t),f("/profile"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.response.data.error),s(e.t0.response.data.error);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("".concat(U,"/logout"),{},{withCredentials:!0});case 2:n(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={nickname:t.target.nickname.value,price:t.target.price.value},e.next=4,I.a.post("".concat(U,"/plantFamily/add"),n,{withCredentials:!0});case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)(O,{handleLogout:g}),Object(x.jsxs)(j.d,{children:[Object(x.jsx)(j.b,{path:"/signin",element:Object(x.jsx)(P,{handleSignin:v,error:i})}),Object(x.jsx)(j.b,{path:"/signup",element:Object(x.jsx)(L,{})}),Object(x.jsx)(j.b,{path:"/profile",element:Object(x.jsx)(N,{plantFamily:m})}),Object(x.jsx)(j.b,{path:"/addplant",element:Object(x.jsx)(B,{handleSubmit:w})})]})]})}i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(m.a,{children:Object(x.jsx)(h,{children:Object(x.jsx)(V,{})})})}),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.3573bd3c.chunk.js.map